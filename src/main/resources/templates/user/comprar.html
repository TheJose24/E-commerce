<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <meta name="description" content="">
    <meta name="author" content="">

    <title>SLAM RACING-productos</title>

    <link rel="icon" href="/images/favicon.ico" type="image/x-icon">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="/css/fonts.css">
    <link rel="stylesheet" href="/css/scrollbar.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link href="https://cdn.lineicons.com/4.0/lineicons.css" rel="stylesheet"/>

    <script src="https://sdk.mercadopago.com/js/v2"></script>
</head>
<body>

<main class="flex font-poppins font-normal">

    <div class="flex flex-col items-center  px-14 py-8 w-[50%] h-screen overflow-auto bg-black">
        <div class="text-white mb-3">
            <svg
                    class="h-12 w-11 mx-auto"
                    xmlns="http://www.w3.org/2000/svg"
                    viewBox="0 0 298.000000 247.000000"
                    preserveAspectRatio="xMidYMid meet"
                    fill="currentColor"
                    stroke="currentColor"
                    stroke-width="10px"
            >
                <g
                        transform="translate(0.000000,247.000000) scale(0.100000,-0.100000)"
                >
                    <path
                            d="M849 2129 c-134 -161 -373 -446 -531 -635 -159 -189 -288 -348 -288
                                    -354 0 -6 108 -145 240 -310 l240 -300 393 0 393 0 348 411 c310 367 346 413
                                    333 427 -44 53 -369 412 -373 412 -6 0 -46 -44 -498 -560 -104 -118 -192 -219
                                    -196 -223 -4 -4 -37 26 -74 67 l-68 76 355 444 355 444 -185 196 c-102 108
                                    -189 196 -193 196 -4 0 -117 -131 -251 -291z m498 -107 c-1 -7 -143 -190 -316
                                    -407 l-315 -395 -254 0 c-242 0 -254 1 -240 18 15 18 256 306 653 781 l229
                                    275 123 -130 c67 -71 122 -135 120 -142z m392 -522 c72 -78 131 -144 130 -148
                                    0 -4 -141 -173 -312 -377 l-312 -370 -273 -3 c-149 -1 -272 0 -272 3 0 10 892
                                    1035 900 1035 4 0 67 -63 139 -140z"
                    />
                    <path
                            d="M1681 1863 c8 -10 127 -139 264 -286 138 -148 251 -272 253 -276 1
                                    -4 -111 -138 -249 -297 -139 -159 -304 -349 -367 -421 l-115 -133 -339 0 -338
                                    0 157 -210 158 -210 396 0 396 0 525 622 c288 343 528 629 532 636 10 17 -2
                                    31 -290 328 l-257 264 -369 0 c-351 0 -370 -1 -357 -17z m1088 -660 c-8 -10
                                    -140 -166 -294 -348 -154 -182 -361 -426 -460 -543 l-179 -212 -274 0 -273 0
                                    23 29 c13 16 230 268 483 560 l460 531 264 0 c248 0 263 -1 250 -17z"
                    />
                </g>
            </svg>
            <h1 class="text-2xl">Complete su compra</h1>
        </div>

        <div class="w-full flex flex-col justify-between overflow-auto h-[calc(100%-92px)]">
            <div class="w-full p-6 border border-solid border-white mb-8 rounded-2xl">
                <div class="flex flex-col gap-y-4 mb-5">

                    <div th:each="detalle : ${detalle}"
                         class="flex justify-between text-white w-full items-center px-2 py-1.5 border border-solid border-white rounded-2xl">
                        <div class="flex items-center gap-x-4">
                            <img class="object-contain w-[70px] bg-white rounded-lg"
                                 th:src="@{/images/{img} (img=${detalle.producto.imagenes.get(0).urlImagen})}" th:alt="${detalle.producto.slug}">
                            <div class="flex flex-col">
                                <h2 th:text="${detalle.producto.nombre} + ' ' + ${detalle.producto.color}" class="text-lg font-medium"></h2>
                                <h3 th:text="${detalle.producto.material} + ' ™' " class="text-sm"></h3>
                            </div>

                        </div>
                        <div class="inline-flex justify-between w-9">
                            <span th:text="${detalle.cantidad}"></span>
                        </div>
                        <p th:text="'S/. ' + (${detalle.producto.precio} - (${detalle.producto.precio} * (${detalle.producto.descuento} / 100)))" class="text-sm"></p>

                    </div>

                </div>

                <div class="border-b border-solid border-white mb-4"></div>

                <div class="flex justify-between w-full text-white font-medium mb-2">
                    <p>Subtotal</p>
                    <p th:text="'S/. ' + ${#numbers.formatDecimal(pedido.subtotal, 0, 1, 'POINT')}"></p>
                </div>

                <div class="flex justify-between w-full text-white font-medium">
                    <p>Total</p>
                    <p> S.
                        <span id="total" th:text="${#numbers.formatDecimal(pedido.total, 0, 1, 'POINT')}"></span>
                    </p>
                </div>
            </div>

            <a th:href="@{/productos}"
               class="flex items-center w-fit gap-x-1.5 bg-background rounded-2xl p-2 pr-3.5 text-white text-sm
                            border border-solid border-white hover:bg-white hover:text-black">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M5.55806 11.5581C5.31398 11.8021 5.31398 12.1979 5.55806 12.4419L9.53554 16.4194C9.77961 16.6635 10.1753 16.6635 10.4194 16.4194C10.6635 16.1753 10.6635 15.7796 10.4194 15.5355L6.88389 12L10.4194 8.46447C10.6635 8.22039 10.6635 7.82466 10.4194 7.58058C10.1753 7.3365 9.77961 7.3365 9.53554 7.58058L5.55806 11.5581ZM17.69 11.375L6 11.375V12.625L17.69 12.625V11.375Z" fill="currentColor"/>
                </svg>
                Seguir comprando
            </a>
        </div>
    </div>

    <div class="w-[50%] flex justify-center items-center px-20 py-8 h-screen overflow-auto">

        <div class="w-full h-full overflow-auto">
            <div class="flex justify-between w-full px-2 py-1 mb-8 text-sm font-bold text-grey">
                <div class="gap-x-16 flex justify-between">
                    <div class="flex gap-x-1.5">
                        <div id="step-1" class="flex justify-center items-center rounded-[50%] text-xs w-5 bg-lightGray100">1</div>
                        <p id="step-1-text">Contacto</p>
                    </div>
                    <p>></p>
                </div>
                <div class="gap-x-16 flex justify-between">
                    <div class="flex gap-x-1.5">
                        <div id="step-2" class="flex justify-center items-center rounded-[50%] text-xs w-5 bg-lightGray100 mr-1">2</div>
                        <p id="step-2-text">Envío</p>
                    </div>
                    <p>></p>
                </div>
                <div class="flex justify-between">
                    <div class="flex gap-x-1.5">
                        <div id="step-3" class="flex justify-center items-center rounded-[50%] text-xs w-5 bg-lightGray100 mr-1">3</div>
                        <p id="step-3-text">Pago</p>
                    </div>
                </div>
            </div>

            <form id="form-multistep" class="w-full">
                <!-- Paso 1: Informacion para contactar al usuario reference a su pedido -->
                <div class="step" data-step="1">
                    <h2 class="text-2xl mb-6">Información de contacto</h2>
                    <div class="flex flex-col text-sm gap-x-2.5 w-full">
                        <label for="nombre" class="mb-1">Nombre</label>
                        <input type="text" id="nombre" class="border border-grey rounded-md text-base px-3 py-2 mb-5" placeholder="Carlos">

                        <label for="apellido" class="mb-1">Apellido</label>
                        <input type="text" id="apellido"  class="border border-grey rounded-md text-base px-3 p-2 mb-5" placeholder="Martinez">

                        <label for="email" class="mb-1">Email</label>
                        <input type="email" id="email"  class="border border-grey rounded-md text-base px-3 p-2 mb-5" placeholder="email@example.com">

                        <label for="telefono" class="mb-1">Teléfono</label>
                        <input type="text" id="telefono"  class="border border-grey rounded-md text-base px-3 p-2 mb-5" placeholder="999-999-999">
                    </div>
                </div>


                <!-- Paso 2: Informacion para el delivery (opcional)-->
                <div class="step hidden" data-step="2">
                    <h2 class="text-2xl mb-6">Información de envío</h2>
                    <div class="flex flex-col gap-x-2.5 w-full">
                        <label for="departamento">Departamento</label>
                        <input type="text" id="departamento" class="border border-grey rounded-md text-base px-3 py-2 mb-5" placeholder="Lima">

                        <label for="provincia">Provincia</label>
                        <input type="text" id="provincia" class="border border-grey rounded-md text-base px-3 py-2 mb-5" placeholder="Lima">

                        <label for="distrito">Distrito</label>
                        <input type="text" id="distrito" class="border border-grey rounded-md text-base px-3 py-2 mb-5" placeholder="Los Olivos">

                        <!-- Este input se activara si el departameto es Lima-->
                        <label for="direccion">Dirección</label>
                        <input type="text" id="direccion" class="border border-grey rounded-md text-base px-3 py-2 mb-5" placeholder="Numero de la casa y nombre de la calle">

                        <label for="referencia">Referencia</label>
                        <input type="text" id="referencia" class="border border-grey rounded-md text-base px-3 py-2 mb-5" placeholder="Lugar de referencia">
                    </div>
                </div>


                <!-- Botones de navegación -->
                <div class="flex justify-between mt-8">
                    <button class="py-2 px-4 border border-solid border-black rounded" id="prevBtn" type="button" disabled>Anterior</button>
                    <button class="py-2 px-4 bg-black text-white rounded" id="nextBtn" type="button">Siguiente</button>
                </div>
            </form>
            <!-- Con toda la informacion recibida del formulario se creara la orden de pago -->
            <div class="step" data-step="3">
                <div id="walletBrick_container"></div>
                <p class="text-center text-grey relative">
                    <span class="absolute top-1/2 left-0 before:block content border-t border-grey w-2/5"></span>
                    O
                    <span class="absolute top-1/2 right-0 after:block content border-t border-grey w-2/5"></span>
                </p>
                <div id="cardPaymentBrick_container"></div>
            </div>
        </div>


    </div>

    <div class="hidden absolute overflow-auto z-10 flex justify-center items-center w-screen h-screen bg-black bg-opacity-50 backdrop-blur-sm" id="resultado-pago">
        <div class="w-1/2 h-full flex justify-center items-center">
            <div id="statusScreenBrick_container"></div>
        </div>
    </div>
</main>

</body>
</html>